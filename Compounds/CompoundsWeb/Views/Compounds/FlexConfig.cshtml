@model Guid

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_FlexLayout.cshtml";
}

@section css {
    <style>
    </style>
}

<div id="compoundLayoutManager">
</div>

@section Scripts {
    <script type="text/javascript">
        $(document).ready(function () {
            var config = {
                layout: {
                    layoutType: 'flex',
                    items: [
                    {
                        id: 'general-area',
                        top: '0',
                        left: '0',
                        right: '30%',
                        bottom: '100%',
                        allowMaximize: true,
                        tabs: {
                            items: [{
                                active: true,
                                title: 'General',
                                name: 'general',
                                class: 'general',
                                view: {
                                    name: 'molecule2d',
                                    options: {
                                        width: '100%',
                                        height: '100%',
                                        allowSave: true,
                                    }
                                }
                            }, {
                                title: 'Details',
                                name: 'details',
                                class: 'details',
                                view: {
                                    name: 'areastats'
                                }
                            }]
                        }
                    },
                    {
                        top: '0',
                        left: '30%',
                        right: '70%',
                        bottom: '100%',
                        tabs: {
                            items: [{
                                active: true,
                                title: 'Synonyms',
                                name: 'synonyms',
                                class: 'synonyms',
                                view: {
                                    name: 'areastats'
                                }
                            }, {
                                title: 'Datasources',
                                name: 'datasources',
                                class: 'datasources',
                                view: {
                                    name: 'areastats'
                                }
                            }, {
                                title: 'Articles',
                                name: 'articles',
                                class: 'articles',
                                view: {
                                    name: 'areastats'
                                }
                            }, {
                                title: 'Pattents',
                                name: 'pattents',
                                class: 'pattents',
                                view: {
                                    name: 'areastats'
                                }
                            }, {
                                title: 'Description',
                                name: 'description',
                                class: 'description',
                                view: {
                                    name: 'areastats'
                                }
                            }, {
                                title: 'Vendors',
                                name: 'vendors',
                                class: 'vendors',
                                view: {
                                    name: 'areastats'
                                }
                            }, {
                                title: 'Properties',
                                name: 'properties',
                                class: 'properties',
                                view: {
                                    name: 'areastats'
                                }
                            }, {
                                title: 'Wiki',
                                name: 'wiki',
                                class: 'wiki',
                                view: {
                                    name: 'areastats'
                                }
                            }]
                        }
                    },
                    {
                        top: '0%',
                        left: '70%',
                        right: '100%',
                        bottom: '100%',
                        allowMaximize: true,
                        tabs: {
                            items: [{
                                active: true,
                                title: 'Spectra',
                                name: 'spectra',
                                class: 'spectra',
                                view: {
                                    name: 'areastats'
                                }
                            }, {
                                title: 'Crystals',
                                name: 'crystals',
                                class: 'crystals',
                                view: {
                                    name: 'areastats'
                                }
                            }]
                        }
                    }]
                }
            };

            $('#compoundLayoutManager').layoutmanager({
                saveState: true,
                config: config,
                bind: [{
                    attrName: 'name',
                    attrValue: 'molecule2d',
                    value: { options: { id: @Model } }
                }]
            });

            //var layout = $.layout.addLayout('layoutManager', config);

            //$('#general-area').on('area-resize', function () {
            //    $('#general-tab').molecule2d('setSize', $('#general-tab').parent().width(), $('#general-tab').parent().height());
            //});
        });
    </script>
}